---
import BaseLayout from '../components/BaseLayout.astro';
import { getCollection } from 'astro:content';

// Get latest blog posts
const posts = await getCollection('blog');
const latestPosts = posts
    .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
    .slice(0, 3);

const currentDate = new Date().toLocaleDateString('en-US', {
    weekday: 'long',
    year: 'numeric',
    month: 'long',
    day: 'numeric'
});
---

<BaseLayout title="Welcome to My Personal Chronicle">
    <div class="newspaper-header">
        <div class="date-banner">
            <span class="edition">Digital Edition</span>
            <span class="current-date">{currentDate}</span>
            <span class="weather">72¬∞F - Sunny</span>
        </div>
    </div>

    <main class="newspaper-grid">
        <!-- Lead Story -->
        <section class="bento-item lead-story">
            <div class="headline-box">
                <h1>Exploring the Digital Frontier</h1>
                <p class="subheading">A Journey Through Modern Technology and Development</p>
                <div class="byline">By John Doe | Tech Correspondent</div>
            </div>
            <p class="lead-paragraph">In an era where technology shapes our daily lives, we delve into the intricate world of software development and innovation. Through this digital chronicle, we explore the latest trends, share insights, and document the evolution of modern solutions.</p>
            <a href="/about" class="continue-reading">Continue Reading ‚Üí</a>
        </section>

        <!-- Latest Posts Column -->
        <section class="bento-item news-column">
            <div class="column-header">Latest Dispatches</div>
            {latestPosts.map((post) => (
                <article class="news-item">
                    <h2><a href={`/blog/${post.slug}`}>{post.data.title}</a></h2>
                    <div class="article-meta">
                        <span class="date">{new Date(post.data.date).toLocaleDateString('en-US', {
                            month: 'short',
                            day: 'numeric'
                        })}</span>
                        <span class="separator">|</span>
                        <span class="category">Technology</span>
                    </div>
                    <p>{post.data.description}</p>
                </article>
            ))}
        </section>

        <!-- Tech Bulletin -->
        <section class="bento-item tech-bulletin">
            <div class="column-header">Tech Bulletin</div>
            <div class="bulletin-grid">
                <div class="bulletin-item">
                    <span class="bulletin-tag">Frontend</span>
                    <h3>React</h3>
                    <p>Building responsive and dynamic user interfaces</p>
                </div>
                <div class="bulletin-item">
                    <span class="bulletin-tag">Backend</span>
                    <h3>Node.js</h3>
                    <p>Powering server-side applications</p>
                </div>
                <div class="bulletin-item">
                    <span class="bulletin-tag">Database</span>
                    <h3>PostgreSQL</h3>
                    <p>Robust data management solutions</p>
                </div>
            </div>
        </section>

        <!-- Project Highlights -->
        <section class="bento-item project-highlights">
            <div class="column-header">Project Highlights</div>
            <div class="highlights-content">
                <article class="highlight">
                    <div class="highlight-header">
                        <h3>Featured Project</h3>
                        <span class="highlight-meta">In Development</span>
                    </div>
                    <h4>AI-Powered Analytics</h4>
                    <p>Revolutionizing data analysis with machine learning algorithms</p>
                </article>
                <div class="highlight-separator"></div>
                <article class="highlight">
                    <div class="highlight-header">
                        <h3>Latest Release</h3>
                        <span class="highlight-meta">Version 2.0</span>
                    </div>
                    <h4>Cloud Infrastructure</h4>
                    <p>Scalable solutions for modern applications</p>
                </article>
            </div>
        </section>

        <!-- Quick Reference -->
        <section class="bento-item quick-reference">
            <div class="column-header">Quick Reference</div>
            <div class="reference-grid">
                <a href="/blog" class="ref-item">
                    <span class="ref-icon">üìö</span>
                    <span class="ref-text">Articles Archive</span>
                </a>
                <a href="/projects" class="ref-item">
                    <span class="ref-icon">üíª</span>
                    <span class="ref-text">Project Portfolio</span>
                </a>
                <a href="/about" class="ref-item">
                    <span class="ref-icon">üë§</span>
                    <span class="ref-text">About Author</span>
                </a>
                <a href="/contact" class="ref-item">
                    <span class="ref-icon">‚úâÔ∏è</span>
                    <span class="ref-text">Get in Touch</span>
                </a>
            </div>
        </section>
    </main>
</BaseLayout>

<style>
    .newspaper-header {
        border-bottom: 2px solid var(--grey11);
        margin-bottom: 2rem;
    }

    .date-banner {
        background-color: var(--grey13);
        padding: 0.5rem 1rem;
        display: flex;
        justify-content: space-between;
        font-family: 'Times New Roman', serif;
        font-size: 0.9rem;
        color: var(--grey3);
    }

    .newspaper-grid {
        display: grid;
        grid-template-columns: repeat(12, 1fr);
        gap: 1.5rem;
        padding: 0 1.5rem;
        max-width: 1400px;
        margin: 0 auto;
    }

    .bento-item {
        background: white;
        border: 1px solid var(--grey11);
        padding: 1.5rem;
        font-family: 'Georgia', serif;
    }

    .column-header {
        font-family: 'Times New Roman', serif;
        font-size: 1.2rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        border-bottom: 2px solid var(--grey11);
        padding-bottom: 0.5rem;
        margin-bottom: 1.5rem;
    }

    /* Lead Story */
    .lead-story {
        grid-column: span 6;
        grid-row: span 2;
    }

    .headline-box {
        border-bottom: 3px double var(--grey11);
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
    }

    .lead-story h1 {
        font-size: 2.8rem;
        font-family: 'Times New Roman', serif;
        line-height: 1.1;
        margin-bottom: 0.5rem;
    }

    .subheading {
        font-size: 1.4rem;
        color: var(--grey3);
        margin-bottom: 0.5rem;
    }

    .byline {
        font-style: italic;
        color: var(--grey6);
        font-size: 0.9rem;
    }

    .lead-paragraph {
        font-size: 1.2rem;
        line-height: 1.6;
        margin-bottom: 1.5rem;
    }

    /* News Column */
    .news-column {
        grid-column: span 3;
        grid-row: span 3;
    }

    .news-item {
        padding-bottom: 1.5rem;
        margin-bottom: 1.5rem;
        border-bottom: 1px solid var(--grey11);
    }

    .news-item h2 {
        font-size: 1.3rem;
        margin-bottom: 0.5rem;
    }

    .article-meta {
        font-size: 0.9rem;
        color: var(--grey6);
        margin-bottom: 0.5rem;
    }

    .separator {
        margin: 0 0.5rem;
    }

    /* Tech Bulletin */
    .tech-bulletin {
        grid-column: span 3;
        grid-row: span 2;
    }

    .bulletin-grid {
        display: grid;
        gap: 1rem;
    }

    .bulletin-item {
        padding: 1rem;
        background: var(--grey13);
    }

    .bulletin-tag {
        display: inline-block;
        padding: 0.2rem 0.5rem;
        background: var(--grey11);
        font-size: 0.8rem;
        margin-bottom: 0.5rem;
    }

    /* Project Highlights */
    .project-highlights {
        grid-column: span 6;
    }

    .highlights-content {
        display: grid;
        grid-template-columns: 1fr 2px 1fr;
        gap: 1.5rem;
    }

    .highlight-separator {
        background: var(--grey11);
    }

    .highlight-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
    }

    .highlight-meta {
        font-size: 0.8rem;
        color: var(--grey6);
    }

    /* Quick Reference */
    .quick-reference {
        grid-column: span 6;
    }

    .reference-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
    }

    .ref-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 1rem;
        background: var(--grey13);
        text-decoration: none;
        color: var(--grey2);
        transition: all 0.2s ease;
    }

    .ref-item:hover {
        background: var(--grey12);
        transform: translateY(-2px);
    }

    .ref-icon {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
    }

    .ref-text {
        font-size: 0.9rem;
    }

    @media (max-width: 1200px) {
        .newspaper-grid {
            grid-template-columns: repeat(6, 1fr);
        }

        .lead-story,
        .news-column,
        .tech-bulletin {
            grid-column: span 6;
        }

        .reference-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (max-width: 768px) {
        .newspaper-grid {
            grid-template-columns: 1fr;
            padding: 1rem;
        }

        .bento-item {
            grid-column: span 1 !important;
        }

        .highlights-content {
            grid-template-columns: 1fr;
        }

        .highlight-separator {
            display: none;
        }

        .date-banner {
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 0.5rem;
        }
    }
</style>
